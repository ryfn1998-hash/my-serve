<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RyFn æ ¸å¿ƒæ§åˆ¶ç³»çµ±</title>
    <style>
        /* æ·±åº¦é»‘è‰²èƒŒæ™¯æ­é…ç´«è‰²éœ“è™¹æµå…‰ */
        body {
            background-color: #0b0b0b;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: "Microsoft JhengHei", sans-serif;
            color: white;
            overflow: hidden;
        }

        .container {
            position: relative;
            padding: 40px;
            background: rgba(26, 26, 26, 0.9);
            border-radius: 20px;
            text-align: center;
            width: 380px;
            /* ç´«è‰²æµå…‰é‚Šæ¡†è¨­è¨ˆ [cite: 2026-01-03] */
            box-shadow: 0 0 30px #8a2be2, inset 0 0 15px #8a2be2;
            border: 2px solid #a020f0;
            transition: transform 0.3s;
        }

        .container:hover {
            transform: scale(1.02);
        }

        h1 {
            color: #d8b4fe;
            text-shadow: 0 0 15px #a020f0;
            margin-bottom: 25px;
            letter-spacing: 2px;
        }

        .status-box {
            background: #000;
            padding: 15px;
            border-radius: 10px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 13px;
            margin-bottom: 25px;
            border: 1px solid #444;
            height: 120px;
            overflow-y: auto;
            text-align: left;
            line-height: 1.6;
        }

        .btn-start {
            background: transparent;
            color: #d8b4fe;
            border: 2px solid #d8b4fe;
            padding: 15px 40px;
            font-size: 20px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s;
            text-shadow: 0 0 8px #d8b4fe;
            font-weight: bold;
        }

        .btn-start:hover:not(:disabled) {
            background: #a020f0;
            color: white;
            box-shadow: 0 0 25px #a020f0;
            border-color: #a020f0;
        }

        .btn-start:disabled {
            border-color: #444;
            color: #666;
            cursor: wait;
            text-shadow: none;
        }

        /* ç‹€æ…‹æ–‡å­—é¡è‰² */
        .log-success { color: #4ade80; }
        .log-error { color: #ff4d4d; }
        .log-info { color: #a78bfa; }
        .log-blink { animation: blink 1s infinite; }

        @keyframes blink {
            50% { opacity: 0.5; }
        }

        /* æ²è»¸ç¾åŒ– */
        .status-box::-webkit-scrollbar { width: 5px; }
        .status-box::-webkit-scrollbar-thumb { background: #a020f0; border-radius: 10px; }
    </style>
</head>
<body>

    <div class="container">
        <h1>ğŸ›¸ RyFn æ ¸å¿ƒç³»çµ±</h1>
        
        <div class="status-box" id="console">
            <div class="log-info">â— æ­£åœ¨æ¥å…¥ RyFn é›²ç«¯éˆè·¯...</div>
        </div>

        <button class="btn-start" id="startBtn">å•Ÿå‹•ä¼ºæœå™¨</button>
    </div>

    <script>
        const consoleEl = document.getElementById('console');
        const startBtn = document.getElementById('startBtn');

        // ğŸ’¡ é€™æ˜¯ä½ å”¯ä¸€çš„ Replit åœ°å€
        const BASE_URL = "https://server-starter--ryfn1998.replit.app";

        function addLog(text, type) {
            const div = document.createElement('div');
            div.className = type;
            div.innerText = `â— ${text}`;
            consoleEl.appendChild(div);
            consoleEl.scrollTop = consoleEl.scrollHeight;
        }

        // åˆå§‹åŒ–æª¢æŸ¥å¤§è…¦ç‹€æ…‹
        async function checkBrain() {
            try {
                const res = await fetch(BASE_URL, { mode: 'no-cors' });
                addLog("å¤§è…¦é€£ç·šæˆåŠŸï¼Œæº–å‚™å°±ç·’ã€‚", "log-success");
            } catch (e) {
                addLog("é€£ç·šå¤±æ•—ï¼šå¤§è…¦æœªéŸ¿æ‡‰ã€‚", "log-error");
                addLog("è«‹æª¢æŸ¥ Replit æ˜¯å¦æŒ‰ä¸‹ Runã€‚", "log-error");
            }
        }

        window.onload = checkBrain;

        startBtn.onclick = async () => {
            startBtn.disabled = true;
            addLog("æ­£åœ¨ç™¼é€å–šé†’é »ç‡...", "log-info");

            try {
                // ç™¼é€å•Ÿå‹•è«‹æ±‚åˆ° Replit
                const response = await fetch(`${BASE_URL}/start-server`);
                
                if (response.ok) {
                    addLog("æŒ‡ä»¤å·²é€é”ï¼ä¼ºæœå™¨å•Ÿå‹•ä¸­ã€‚", "log-success");
                    addLog("é€²åº¦ï¼šFalixNodes å·²æ¥ç®¡ã€‚", "log-info");
                } else {
                    throw new Error();
                }
            } catch (error) {
                addLog("æŒ‡ä»¤ä¸­æ–·ï¼šé€£ç·šè¶…æ™‚ã€‚", "log-error");
                addLog("è«‹è‡³ Replit ç¢ºèª Console è¨Šæ¯ã€‚", "log-error");
            } finally {
                setTimeout(() => { startBtn.disabled = false; }, 5000);
            }
        };
    </script>
</body>
</html>
